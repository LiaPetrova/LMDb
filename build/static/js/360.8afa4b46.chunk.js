"use strict";(self.webpackChunklmdb=self.webpackChunklmdb||[]).push([[360],{5360:function(e,a,i){i.r(a);var n=i(4942),s=i(1413),l=i(3433),t=i(9439),r=i(2791),c=i(7689),o=i(825),u=i(9040),d=i(184);a.default=function(){var e=(0,c.UO)(),a=e.showId,i=e.type,m=(0,r.useState)({}),h=(0,t.Z)(m,2),f=h[0],x=h[1],p=(0,r.useState)({type:"",title:"",year:0,desc:"",duration:0,director:""}),N=(0,t.Z)(p,2),b=N[0],j=N[1],v=(0,r.useState)([""]),g=(0,t.Z)(v,2),y=g[0],C=g[1],Z=(0,r.useState)([{fullName:"",roleName:"",imageUrl:"",wikiUrl:""}]),k=(0,t.Z)(Z,2),U=k[0],F=k[1],q=(0,r.useState)([""]),w=(0,t.Z)(q,2),L=w[0],S=w[1],D=(0,c.s0)(),I=(0,o.n)().showEdit;(0,r.useEffect)((function(){(0,u.Hd)(a,i).then((function(e){x(e.fields),S(e.fields.genreList),F(e.fields.actorsList),C(e.fields.imageList),j({type:e.fields.type,title:e.fields.title,year:e.fields.year,desc:e.fields.desc,duration:e.fields.duration,director:e.fields.director})}))}),[a,i]);var M=function(e,a){var i=e.target,n=i.name,s=i.value;if("movieImgUrl"===n){var t=(0,l.Z)(y);t[a]=s,C(t)}else if("genre"===n){var r=(0,l.Z)(L);r[a]=s,S(r)}else{var c=(0,l.Z)(U);c[a][n]=s,F(c)}},V=function(e,a,i){if(e.preventDefault(),"movie"===i){var n=(0,l.Z)(y);n.splice(a,1),C(n)}else if("actor"===i){var s=(0,l.Z)(U);s.splice(a,1),F(s)}else if("genre"===i){var t=(0,l.Z)(L);t.splice(a,1),S(t)}},E=function(e,a){e.preventDefault(),"movie"===a?C([].concat((0,l.Z)(y),[""])):"actor"===a?F([].concat((0,l.Z)(U),[{fullName:"",roleName:"",imageUrl:"",wikiUrl:""}])):"genre"===a&&S([].concat((0,l.Z)(L),[""]))},R=function(e){j((function(a){return(0,s.Z)((0,s.Z)({},a),{},(0,n.Z)({},e.target.name,e.target.value))}))};return(0,d.jsxs)("section",{action:"",className:"form-section",children:[(0,d.jsx)("h2",{className:"heading",children:"Edit show"}),(0,d.jsxs)("form",{action:"",className:"form",onSubmit:function(e){e.preventDefault();var i=b.type,n=b.title,l=b.year,t=b.desc,r=b.duration,c=b.director;l=Number(l),r=Number(r);var o={type:i,title:n,year:l,duration:r,director:c,desc:t,imageList:y,actorsList:U,genreList:L};"Movie"===i?(0,u.iU)("Movie",a,o).then((function(e){I(a,{id:a,fields:(0,s.Z)((0,s.Z)({},f),o)},i)})):(0,u.iU)("Series",a,o).then((function(e){I(a,{id:a,fields:(0,s.Z)((0,s.Z)({},f),o)},i)})),D("/catalog/".concat(i,"/").concat(a))},children:[(0,d.jsxs)("div",{className:"input-box",children:[(0,d.jsx)("div",{className:"label",children:"Type of show"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{className:"input-radio",type:"radio",id:"movie",name:"type",onChange:R,checked:"Movie"===b.type}),(0,d.jsx)("label",{htmlFor:"movie",children:"Movie"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{className:"input-radio",type:"radio",id:"series",name:"type",onChange:R,checked:"Series"===b.type}),(0,d.jsx)("label",{htmlFor:"series",children:"Series"})]})]}),(0,d.jsx)("br",{}),(0,d.jsxs)("div",{className:"input-box",children:[(0,d.jsx)("label",{className:"label",htmlFor:"title",children:"Title"}),(0,d.jsx)("input",{type:"text",name:"title",id:"title",className:"input",onChange:R,value:b.title,required:!0}),(0,d.jsxs)("div",{className:"input-box",children:[(0,d.jsx)("label",{className:"label",htmlFor:"year",children:"Year"}),(0,d.jsx)("input",{type:"number",name:"year",id:"year",className:"input",onChange:R,value:b.year,required:!0})]}),(0,d.jsxs)("div",{className:"input-box",children:[(0,d.jsx)("label",{className:"label",htmlFor:"duration",children:"Duration"}),(0,d.jsx)("input",{type:"number",name:"duration",id:"duration",className:"input",onChange:R,value:b.duration,required:!0})]}),(0,d.jsxs)("div",{className:"input-box",children:[(0,d.jsx)("label",{className:"label",htmlFor:"director",children:"Director"}),(0,d.jsx)("input",{type:"text",name:"director",id:"director",className:"input",onChange:R,value:b.director,required:!0})]}),(0,d.jsx)("div",{className:"input-box",children:(0,d.jsx)("label",{className:"label",htmlFor:"genre",children:"Genre"})}),null===L||void 0===L?void 0:L.map((function(e,a){return(0,d.jsxs)("div",{className:"box",children:[(0,d.jsx)("input",{className:"input",name:"genre",value:e,onChange:function(e){return M(e,a)},required:!0}),(0,d.jsxs)("div",{className:"btn-box",children:[1!==L.length&&(0,d.jsx)("button",{className:"btn",onClick:function(e){return V(e,a,"genre")},children:(0,d.jsx)("i",{className:"fa-solid fa-minus"})}),L.length-1===a&&(0,d.jsx)("button",{className:"btn",onClick:function(e){return E(e,"genre")},children:(0,d.jsx)("i",{className:"fa-solid fa-plus"})})]})]},a)})),(0,d.jsx)("label",{className:"label",htmlFor:"desc",children:"Description"}),(0,d.jsx)("textarea",{name:"desc",id:"desc",className:"input textarea",onChange:R,value:b.desc,required:!0}),(0,d.jsxs)("div",{className:"images",children:[(0,d.jsx)("label",{className:"label",htmlFor:"imgUrl",children:"Image URL"}),y.map((function(e,a){return(0,d.jsxs)("div",{className:"box",children:[(0,d.jsx)("input",{className:"input",name:"movieImgUrl",value:e,onChange:function(e){return M(e,a)},required:!0}),(0,d.jsxs)("div",{className:"btn-box",children:[1!==y.length&&(0,d.jsx)("button",{className:"btn",onClick:function(e){return V(e,a,"movie")},children:(0,d.jsx)("i",{className:"fa-solid fa-minus"})}),y.length-1===a&&(0,d.jsx)("button",{className:"btn",onClick:function(e){return E(e,"movie")},children:(0,d.jsx)("i",{className:"fa-solid fa-plus"})})]})]},a)})),(0,d.jsx)("label",{className:"label",htmlFor:"imgUrl",children:"Actors"}),U.map((function(e,a){return(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{className:"input",name:"fullName",placeholder:"Full Name",defaultValue:e.fullName,onChange:function(e){return M(e,a)},required:!0}),(0,d.jsx)("input",{className:"input",name:"roleName",placeholder:"Role Name",defaultValue:e.roleName,onChange:function(e){return M(e,a)}}),(0,d.jsx)("input",{className:"input",name:"imageUrl",placeholder:"Image URL",defaultValue:e.imageUrl,onChange:function(e){return M(e,a)},required:!0}),(0,d.jsx)("input",{className:"input",name:"wikiUrl",placeholder:"Link to Wikipedia",defaultValue:e.wikiUrl,onChange:function(e){return M(e,a)},required:!0}),(0,d.jsxs)("div",{className:"btn-box",children:[1!==U.length&&(0,d.jsx)("button",{className:"btn",onClick:function(e){return V(e,a,"actor")},children:(0,d.jsx)("i",{className:"fa-solid fa-minus"})}),U.length-1===a&&(0,d.jsx)("button",{className:"btn",onClick:function(e){return E(e,"actor")},children:(0,d.jsx)("i",{className:"fa-solid fa-plus"})})]})]},a)}))]})]}),(0,d.jsx)("button",{className:"btn action-btn",children:"Update"})]})]})}}}]);
//# sourceMappingURL=360.8afa4b46.chunk.js.map