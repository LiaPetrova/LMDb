{"ast":null,"code":"import { arrayUnion, collection, doc, getDoc, updateDoc } from \"firebase/firestore\";\nimport { firestore } from \"../firebase_setup/firebase\";\nconst addToWishList = async (type, userId, showId) => {\n  const currentUserRef = doc(firestore, 'users', userId);\n  await updateDoc(currentUserRef, {\n    watchlist: arrayUnion({\n      showId,\n      type\n    })\n  });\n};\nconst getAllFromWatchlist = async userId => {\n  console.log(userId);\n  const currentUserRef = collection(firestore, 'users');\n  const result = await getDoc(doc(currentUserRef, userId));\n  // .then(doc => doc.data().watchlist);\n  const watchlist = result.data().watchlist;\n  return watchlist;\n};\nexport { addToWishList, getAllFromWatchlist };","map":{"version":3,"names":["arrayUnion","collection","doc","getDoc","updateDoc","firestore","addToWishList","type","userId","showId","currentUserRef","watchlist","getAllFromWatchlist","console","log","result","data"],"sources":["C:/Users/User/Desktop/Final PRoject -LMDb/lmdb/src/services/userService.js"],"sourcesContent":["import { arrayUnion, collection, doc, getDoc, updateDoc } from \"firebase/firestore\";\r\nimport { firestore } from \"../firebase_setup/firebase\";\r\n\r\nconst addToWishList = async (type, userId, showId) => {\r\n    const currentUserRef = doc(firestore, 'users', userId);\r\n    \r\n    await updateDoc(currentUserRef, {\r\n        watchlist: arrayUnion({showId, type})\r\n    });\r\n};\r\n\r\nconst getAllFromWatchlist = async (userId) => {\r\n    console.log(userId);\r\n    const currentUserRef = collection(firestore, 'users');\r\n   const result = await getDoc(doc(currentUserRef, userId))\r\n    // .then(doc => doc.data().watchlist);\r\n    const watchlist = result.data().watchlist;\r\n    return watchlist;\r\n}\r\n\r\nexport {\r\n    addToWishList,\r\n    getAllFromWatchlist\r\n}"],"mappings":"AAAA,SAASA,UAAU,EAAEC,UAAU,EAAEC,GAAG,EAAEC,MAAM,EAAEC,SAAS,QAAQ,oBAAoB;AACnF,SAASC,SAAS,QAAQ,4BAA4B;AAEtD,MAAMC,aAAa,GAAG,MAAAA,CAAOC,IAAI,EAAEC,MAAM,EAAEC,MAAM,KAAK;EAClD,MAAMC,cAAc,GAAGR,GAAG,CAACG,SAAS,EAAE,OAAO,EAAEG,MAAM,CAAC;EAEtD,MAAMJ,SAAS,CAACM,cAAc,EAAE;IAC5BC,SAAS,EAAEX,UAAU,CAAC;MAACS,MAAM;MAAEF;IAAI,CAAC;EACxC,CAAC,CAAC;AACN,CAAC;AAED,MAAMK,mBAAmB,GAAG,MAAOJ,MAAM,IAAK;EAC1CK,OAAO,CAACC,GAAG,CAACN,MAAM,CAAC;EACnB,MAAME,cAAc,GAAGT,UAAU,CAACI,SAAS,EAAE,OAAO,CAAC;EACtD,MAAMU,MAAM,GAAG,MAAMZ,MAAM,CAACD,GAAG,CAACQ,cAAc,EAAEF,MAAM,CAAC,CAAC;EACvD;EACA,MAAMG,SAAS,GAAGI,MAAM,CAACC,IAAI,EAAE,CAACL,SAAS;EACzC,OAAOA,SAAS;AACpB,CAAC;AAED,SACIL,aAAa,EACbM,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}